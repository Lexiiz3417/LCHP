<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create a Note - LCHP Tools</title>
    <meta name="description" content="Alat untuk membuat halaman catatan baru dengan tema, format, dan pratinjau langsung.">
    <link rel="icon" type="image/png" href="https://lexiiz3417.github.io/lchp/lchpfav.png">
    <meta property="og:title" content="Create a Note - LCHP Tools">
    <meta property="og:description" content="Alat untuk membuat halaman catatan baru dengan tema, format, dan pratinjau langsung.">
    <meta property="og:image" content="https://lexiiz3417.github.io/lchp/lchp.png">
    <meta property="og:url" content="https://lexiiz3417.github.io/lchp/tools/create-a-note.html">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        body { font-family: 'Courier Prime', 'Courier New', Courier, monospace; background-color: #0d0d0d; color: #e0e0e0; line-height: 1.6; margin: 0; padding: 20px; }
        .main-container { max-width: 1300px; width: 100%; margin: 0 auto; }
        h1, p.subtitle { text-align: center; }
        h1 { color: #ffffff; text-transform: uppercase; letter-spacing: 2px; }
        p.subtitle { color: #a0a0a0; }
        .editor-layout { display: flex; flex-wrap: wrap; gap: 30px; margin-top: 30px; }
        .editor-pane, .preview-pane { flex: 1; min-width: 350px; }
        .editor-pane .container, .preview-pane .container { background-color: #1a1a1a; padding: 25px; border-radius: 8px; border: 1px solid #444; height: 100%; }
        .form-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-weight: bold; color: #f0f0f0; }
        input, textarea { width: 100%; padding: 12px; border: 1px solid #555; border-radius: 4px; box-sizing: border-box; font-size: 16px; font-family: inherit; background-color: #2c2c2c; color: #e0e0e0; }
        textarea#note-content { min-height: 300px; resize: vertical; }
        .format-toolbar { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 10px; padding: 10px; background-color: #2c2c2c; border-radius: 4px; }
        .format-toolbar button { width: auto; flex-grow: 1; padding: 8px 10px; font-size: 14px; background-color: #383838; border: 1px solid #555; text-transform: none; }
        .format-toolbar button:hover { background-color: #4a4a4a; }
        #preview-content { font-family: 'Courier New', Courier, monospace; line-height: 1.7; }
        #preview-content h1, #preview-content h2, #preview-content h3 { text-align: left; letter-spacing: 1px; color: #fff; }
        #preview-content .author { text-align: left; margin-top: -15px; color: #a0a0a0; font-style: italic; }
        #preview-content .note-content p { margin-bottom: 1.2em; }
        #preview-content ul, #preview-content ol { padding-left: 25px; }
        #preview-content a { color: #ff4136; }
        #preview-content .box-warning, #preview-content .box-good, #preview-content .box-caution { margin: 1.5em 0; padding: 1px 20px; border-radius: 6px; border-left: 5px solid; }
        #preview-content .box-warning { border-color: #ff4136; background-color: rgba(255, 65, 54, 0.05); }
        #preview-content .box-good { border-color: #2ecc71; background-color: rgba(46, 204, 113, 0.05); }
        #preview-content .box-caution { border-color: #f39c12; background-color: rgba(243, 156, 18, 0.05); }
        #preview-content table { width: 100%; border-collapse: collapse; margin: 1.5em 0; }
        #preview-content th, #preview-content td { border: 1px solid #555; padding: 10px; text-align: left; }
        #preview-content th { background-color: #2c2c2c; }
        #result-area { margin-top: 30px; display: none; background-color: #1a1a1a; padding: 25px; border-radius: 8px; border: 1px solid #444; }
        #generated-html-code { min-height: 200px; width: 100%; background-color: #0d0d0d; white-space: pre; word-wrap: break-word; }
        #copy-html-button { margin-top: 15px; background-color: #ff4136; border-color: #ff4136; display: inline-flex; align-items: center; justify-content: center; gap: 10px; }
        #copy-html-button:hover { background-color: #fff; color: #ff4136; }
        .back-button { position: fixed; bottom: 25px; right: 25px; z-index: 1000; }
        .back-button a { display: flex; align-items: center; text-decoration: none; color: #ffffff; font-size: 22px; }
    </style>
</head>
<body>

<div class="main-container">
    <h1>Create a Note</h1>
    <p class="subtitle">Buat file catatan HTML baru dengan format standar, toolbar, dan pratinjau langsung.</p>

    <div class="editor-layout">
        <div class="editor-pane">
            <div class="container">
                <form id="note-creator-form" onsubmit="generateAndCopy(event)">
                    <div class="form-group">
                        <label for="note-title">Judul Catatan</label>
                        <input type="text" id="note-title" placeholder="Tulis judul yang menarik..." required>
                    </div>
                    <div class="form-group">
                        <label for="note-author">Nama Penulis</label>
                        <input type="text" id="note-author" placeholder="Nama Anda (opsional)">
                    </div>
                    <div class="form-group">
                        <label for="note-content">Isi Catatan</label>
                        <div class="format-toolbar">
                            <button type="button" onclick="wrapText('b')" title="Bold"><i class="fas fa-bold"></i></button>
                            <button type="button" onclick="wrapText('i')" title="Italic"><i class="fas fa-italic"></i></button>
                            <button type="button" onclick="wrapText('u')" title="Underline"><i class="fas fa-underline"></i></button>
                            <button type="button" onclick="wrapText('a')" title="Link"><i class="fas fa-link"></i></button>
                            <button type="button" onclick="wrapText('h1')" title="Heading 1">H1</button>
                            <button type="button" onclick="wrapText('h2')" title="Heading 2">H2</button>
                            <button type="button" onclick="wrapText('h3')" title="Heading 3">H3</button>
                            <button type="button" onclick="formatList('ul')" title="Unordered List"><i class="fas fa-list-ul"></i></button>
                            <button type="button" onclick="insertTable()" title="Insert Table"><i class="fas fa-table"></i></button>
                            <button type="button" onclick="wrapText('box-good')" title="Saran (Hijau)"><i class="fas fa-check-circle"></i></button>
                            <button type="button" onclick="wrapText('box-caution')" title="Hati-hati (Kuning)"><i class="fas fa-exclamation-circle"></i></button>
                            <button type="button" onclick="wrapText('box-warning')" title="Peringatan (Merah)"><i class="fas fa-exclamation-triangle"></i></button>
                        </div>
                        <textarea id="note-content" placeholder="Tulis atau seleksi teks lalu gunakan toolbar di atas..." required></textarea>
                    </div>
                    <button type="submit">
                        <i class="fas fa-cogs"></i> Generate HTML Code
                    </button>
                </form>
            </div>
        </div>

        <div class="preview-pane">
            <div class="container">
                <h3><i class="fas fa-eye"></i> Live Preview</h3>
                <div id="preview-content"></div>
            </div>
        </div>
    </div>

    <div id="result-area">
        <h3><i class="fas fa-check-circle" style="color: #2ecc71;"></i> Kode HTML Siap!</h3>
        <p class="subtitle">Salin kode di bawah ini dan simpan sebagai file .html</p>
        <textarea id="generated-html-code" readonly></textarea>
        <button id="copy-html-button" onclick="copyCode()">
            <i class="fas fa-copy"></i>
            <span class="button-text">Salin Kode</span>
        </button>
    </div>
</div>

<div class="floating-icon back-button">
    <a href="https://lexiiz3417.github.io/lchp" target="_blank" title="Kembali ke LCHP Notes">
        <i class="fas fa-chevron-circle-left" style="color: #ffffff;"></i>
    </a>
</div>

<script>
const noteTitle = document.getElementById('note-title');
const noteAuthor = document.getElementById('note-author');
const noteContent = document.getElementById('note-content');
const previewContent = document.getElementById('preview-content');

// --- FUNGSI LIVE PREVIEW ---
function updatePreview() {
    const title = noteTitle.value || "Judul Catatan...";
    const author = noteAuthor.value;
    const rawContent = noteContent.value;
    const contentHtml = rawContent.split('\n').map(line => line.trim() === '' ? '<br>' : `<p>${line}</p>`).join('');
    previewContent.innerHTML = `<h1>${title}</h1>${author ? `<p class="author">Oleh: ${author}</p>` : ''}<hr style="border-color: #444; margin: 20px 0;"><div class="note-content">${contentHtml}</div>`;
}
[noteTitle, noteAuthor, noteContent].forEach(el => el.addEventListener('input', updatePreview));
document.addEventListener('DOMContentLoaded', updatePreview);

// --- FUNGSI TOOLBAR ---
function getSelection() {
    return {
        start: noteContent.selectionStart,
        end: noteContent.selectionEnd,
        text: noteContent.value.substring(noteContent.selectionStart, noteContent.selectionEnd)
    };
}

function applyFormat(replacement) {
    const selection = getSelection();
    noteContent.value = noteContent.value.substring(0, selection.start) + replacement + noteContent.value.substring(selection.end);
    updatePreview();
}

function wrapText(tag) {
    const selection = getSelection();
    if (selection.text.length === 0) { alert("Seleksi teks terlebih dahulu!"); return; }

    let replacement;
    if (tag === 'a') {
        const url = prompt("Masukkan URL untuk link:", "https://");
        if (url) replacement = `<a href="${url}" target="_blank">${selection.text}</a>`;
        else return;
    } else if (tag.startsWith('box-')) {
        replacement = `\n<div class="${tag}">\n<p>${selection.text}</p>\n</div>\n`;
    } else {
        replacement = `<${tag}>${selection.text}</${tag}>`;
    }
    applyFormat(replacement);
}

function formatList(tag) {
    const selection = getSelection();
    if (selection.text.length === 0) { alert("Seleksi beberapa baris teks untuk dijadikan list!"); return; }
    const items = selection.text.split('\n').map(item => `    <li>${item}</li>`).join('\n');
    const replacement = `\n<${tag}>\n${items}\n</${tag}>\n`;
    applyFormat(replacement);
}

function insertTable() {
    const tableTemplate = `\n<table class="styled-table">
    <thead>
        <tr>
            <th>Header 1</th>
            <th>Header 2</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Data 1</td>
            <td>Data 2</td>
        </tr>
        <tr>
            <td>Data 3</td>
            <td>Data 4</td>
        </tr>
    </tbody>
</table>\n`;
    applyFormat(tableTemplate);
}

// --- FUNGSI GENERATE & COPY ---
function generateAndCopy(event) {
    event.preventDefault();
    const title = noteTitle.value;
    const author = noteAuthor.value;
    const rawContent = noteContent.value;
    const contentHtml = rawContent.split('\n').map(line => `        <p>${line}</p>`).join('\n');
    const description = rawContent.substring(0, 155).replace(/\n/g, ' ') + '...';
    const fileName = (title.toLowerCase().replace(/\s+/g, '-').replace(/[^\w\-]+/g, '') || 'catatan-baru') + '.html';

    const generatedHtml = \`<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>\${title} - LCHP Notes</title>
    <meta name="description" content="\${description}">
    <link rel="icon" type="image/png" href="https://lexiiz3417.github.io/lchp/lchpfav.png">
    <meta property="og:title" content="\${title} - LCHP Notes">
    <meta property="og:description" content="\${description}">
    <meta property="og:image" content="https://lexiiz3417.github.io/lchp/lchp.png">
    <meta property="og:url" content="https://lexiiz3417.github.io/lchp/notes/\${fileName}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        body { font-family: 'Courier New', Courier, monospace; background-color: #0d0d0d; color: #e0e0e0; line-height: 1.7; margin: 0; padding: 20px; }
        .container { background-color: #1a1a1a; padding: 25px 40px; border-radius: 8px; border: 1px solid #444; max-width: 700px; width: 100%; margin: 20px auto; }
        h1, h2, h3 { text-align: center; letter-spacing: 1px; color: #fff; text-transform: uppercase; }
        .author { text-align: center; margin-top: -15px; color: #a0a0a0; font-style: italic; }
        .note-content p { margin-bottom: 1.2em; }
        a { color: #ff4136; text-decoration: none; } a:hover { text-decoration: underline; }
        ul, ol { padding-left: 25px; }
        .box-warning, .box-good, .box-caution { margin: 1.5em 0; padding: 1px 20px; border-radius: 6px; border-left: 5px solid; }
        .box-warning { border-color: #ff4136; background-color: rgba(255, 65, 54, 0.05); }
        .box-good { border-color: #2ecc71; background-color: rgba(46, 204, 113, 0.05); }
        .box-caution { border-color: #f39c12; background-color: rgba(243, 156, 18, 0.05); }
        table.styled-table { width: 100%; border-collapse: collapse; margin: 1.5em 0; }
        table.styled-table th, table.styled-table td { border: 1px solid #555; padding: 10px; text-align: left; }
        table.styled-table th { background-color: #2c2c2c; }
        .back-button { position: fixed; bottom: 25px; right: 25px; z-index: 1000; }
        .back-button a { display: flex; align-items: center; text-decoration: none; font-size: 22px; color: #fff; }
        footer { margin-top: 40px; color: #888; font-size: 14px; text-align: center; }
    </style>
</head>
<body>
<div class="floating-icon back-button">
    <a href="https://lexiiz3417.github.io/lchp/" target="_blank" title="Kembali ke LCHP Notes">
        <i class="fas fa-chevron-circle-left"></i>
    </a>
</div>
<div class="container">
    <h1>\${title}</h1>
    \${author ? \`<p class="author">Oleh: \${author}</p>\` : ''}
    <hr style="border-color: #444; margin: 30px 0;">
    <div class="note-content">
\${contentHtml}
    </div>
</div>
<footer>
    oleh Lexiiz3417
</footer>
</body>
</html>\`;
    document.getElementById('generated-html-code').value = generatedHtml;
    document.getElementById('result-area').style.display = 'block';
}

function copyCode() {
    const codeToCopy = document.getElementById('generated-html-code');
    const button = document.getElementById('copy-html-button');
    const icon = button.querySelector('i');
    const text = button.querySelector('.button-text');
    
    if (!codeToCopy.value) return;

    navigator.clipboard.writeText(codeToCopy.value).then(() => {
        icon.className = 'fas fa-check';
        text.textContent = 'Tersalin!';
        setTimeout(() => {
            icon.className = 'fas fa-copy';
            text.textContent = 'Salin Kode';
        }, 2000);
    }).catch(err => {
        console.warn('Gagal salin otomatis, menjalankan fallback...', err);
        try {
            codeToCopy.select();
            document.execCommand('copy');
            icon.className = 'fas fa-check';
            text.textContent = 'Teks Terpilih!';
        } catch (e) {
            text.textContent = 'Gagal';
        }
    });
}
</script>
</body>
</html>
